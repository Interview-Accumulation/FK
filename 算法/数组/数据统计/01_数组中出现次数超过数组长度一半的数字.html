<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  
</body>
<script>
  /**
   * 题目：数组中有一个数字出现的次数超过数组长度的一半，请找出这个数字。例如输入一个长度为9的数组{1,2,3,2,2,2,5,4,2}。
   *        由于数字2在数组中出现了5次，超过数组长度的一半，因此输出2。如果不存在则输出0
  */

  // 解法1：开辟额外存储空间，记录数字出现的次数，时间复杂度最大为O（n）,逻辑简单
 function findMoreThanHalfNum(arr) {
  if (arr && arr.length > 0) {
    let map = {}, half = arr.legnth / 2
    for (let i = 0; i < arr.length; i++) {
      if (map[arr[i]]) {
        map[arr[i]]++
      } else {
        map[arr[i]] = 1
      }
      if (map[arr[i]] > half) {
        return arr[i]
      }      
    }
    return 0
  }
 }

 /**
  * 解法2：目标值的个数比其他所有值加起来的数多

      记录两个变量 1.数组中的某个值 2.次数

      1.当前遍历值和上一次遍历值相等？次数+1 ： 次数-1。

      2.次数变为0后保存新的值。

      3.遍历结束后保存的值,判断其是否复合条件
      时间复杂度O（2n）,无需开辟额外存储空间
  * */ 
 function findMoreThanHalfNum_2(arr) {
  if (arr && arr.length > 0) {
    let target = arr[0], count = 1
    for (let i = 1; i < arr.length; i++) {
      if (arr[i] === target) {
        count++
      } else {
        count--
      }
      if (count === 0) {
        target = arr[i]
        count = 1
      }
    }
    count = 0
    for (let i = 0; i < arr.length; i++) {
      if (arr[i] === target) {
        count++
      }
    }
    return count > arr.length / 2 ? target : 0
  }
 }
</script>
</html>