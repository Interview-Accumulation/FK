<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <style>
      .read {
        color: red;
      }
    </style>
  </head>
  <body>
    <article>
      <p>1</p>
      <p>2</p>
      <p>3</p>
      <p>4</p>
      <p>5</p>
    </article>
  </body>
  <!-- <script>
    // for...of循环

    // 1.数组（数组原型上的属性不可遍历）
    Array.prototype.name = "数组";
    const arr = [1, 2, 3, "5"];
    for (const val of arr) {
      console.log(val);
    } // 1 2 3 '5'
    // 2.字符串
    const str = "213213casd";
    for (const v of str) {
      console.log(v);
    }// 2 1 3 2 1 3 c a s d
    // 3.TypeArray
    let typeArr = new Uint8Array([0x00, 0xff]);
    for (const v of typeArr) {
      console.log(v);
    } // 0 255
    // 4.Map
    let map = new Map([
      ["a", 1],
      ["b", 2],
      ["c", 3],
    ]);
    for (const v of map) {
      console.log(v);
    }// ["a", 1] ["b", 2] ["c", 3]
    for (let [key, value] of map) {
      console.log(key, value);
    } // a 1   b 2   c 3
    // 5.Set
    let set = new Set([1, 1, 2, 2, 3, 3]);

    for (let value of set) {
      console.log(value);
    } // 1 2 3
    // 6.arguments
    (function () {
      for (let argument of arguments) {
        console.log(argument);
      }
    })(1, 2, 3);// 1 2 3
    // 7.DOM集合
    //注意：这只能在实现了 NodeList.prototype[Symbol.iterator] 的平台上运行
    let articleParagraphs = document.querySelectorAll("article > p");

    for (let paragraph of articleParagraphs) {
      paragraph.classList.add("read");
    }
    // 8.不能遍历不具有iterator属性的数据接口，如对象
    let obj = {
      a: "1",
      b: "3",
      d: "aaaa",
    };
    // for (const v of obj) {
    //     console.log(v);
    // } // 报错: obj is not iterable,obj不是可迭代的

    // 关闭迭代，可用throw，break，return终止。
    function* foo() {
      yield 1;
      yield 2;
      yield 3;
    }

    for (let o of foo()) {
      console.log(o);
      if (o === 2) {
        // 遍历到2时，关闭迭代
        break; // closes iterator, triggers return
      }
    } // 1 2
  </script> -->
  <script>
    // for...in循环
    // 1.数组（不适合遍历数组，因为遍历数组时遍历顺序不稳定）
    // 1.1、会遍历数组所有的可枚举属性，包括原型上的属性, 且索引为字符串型数字，不能直接进行几何运算，若只想遍历数组自身的属性，可以通过hasOwnProperty()来判断。
    Array.prototype.name = "数组";
    const arr = [1, 2, 3, "5"];
    for (const key in arr) {
      console.log(key);
    } // 0 1 2 3 name
    for (const key in arr) {
      if (arr.hasOwnProperty(key)) {
        console.log(key);
      }
    } // 0 1 2 3

    // 对象
    let obj = {
      a: "1",
      b: "3",
      d: "aaaa",
    };
    Object.prototype.name = "对象";
    Object.defineProperty(obj, "e", {
      value: "5",
      enumerable: false,
    });
    for (const key in obj) {
      console.log(key);
    } // a b d name
    console.log(Object.entries(obj)); // [ [ 'a', '1' ], [ 'b', '3' ], [ 'd', 'aaaa' ] ]
    for (const [key, value] of Object.entries(obj)) {
      console.log(key, value);
    } // a 1 b 3 d aaaa


  </script>
</html>
